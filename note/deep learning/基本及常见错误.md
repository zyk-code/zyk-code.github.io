## pip更换镜像源
清华源
```shell
pip config set global.index-url https://pypi.tuna.tsinghua.edu.cn/simple
```

## 安装pytorch
常用的环境
CUDA12.1 + torch2.2 
```shell
pip install torch==2.2.1 torchvision==0.17.1 torchaudio==2.2.1 --index-url https://download.pytorch.org/whl/cu121
```
CUDA11.3+torch1.12
```shell
pip install torch==1.12.1+cu113 torchvision==0.13.1+cu113 torchaudio==0.12.1 --extra-index-url https://download.pytorch.org/whl/cu113
```

## 检测Torch和CUDA
```shell
import torch
print(torch.cuda.device_count())  # 可用gpu数量
print(torch.cuda.is_available())  # 是否可用gpu
```

## 无法指定GPU
该问题在旧版本的v8出现，解决方法如下：
在使用 --nproc_per_node 参数时，如果有四个 GPU，但不想使用 GPU 1，可以使用 CUDA_VISIBLE_DEVICES 环境变量来限制可见的 GPU。

`CUDA_VISIBLE_DEVICES=0,2,3 python training.py --nproc_per_node=3`

`CUDA_VISIBLE_DEVICES=1 python train.py --nproc_per_node=1`

在这个例子中，CUDA_VISIBLE_DEVICES 设置了可见的 GPU，排除了 GPU 1。然后，--nproc_per_node=3 指定了每个节点（即每台机器）上使用的 GPU 数量。这样就可以指定gpu训练了