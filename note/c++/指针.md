# 指针

```cpp
int a = 10;
int* p = &a;
int** pp = &p; 
```

**指针变量**是存放指针的地址的变量，如`p`和`pp`。
**二级指针**是指向指针的指针，如`int** pp = &p;`。
`*p` 是指针p的解引用，可以进行层级套用，如`**pp`。解一次和两次引用是不同的。

### 野指针和空指针

**野指针**是指针初始化时没有提供初始值`int* p;`、`delet`释放了内存空间还被使用和指针指向了超出作用域的变量时。前面两种情况，容易导致程序崩溃，在不同平台编译器处理结果不同。最后一种程序不会崩溃，但这样更加危险。可以在定义指针时，初始化为空指针。
**指针指向了超出作用域的变量(数组越界也是这种情况吧)**
```cpp
int* func(){
    // a的值是10 地址是0x11111111
    int a = 10;
    return &a;
}
// p是0x11111111 *p即解引用的值是随机的。
int* p = func();
```

**空指针**是。在c++11以后使用`nullprt`表示空指针的地址。在c/c++11前中是`NULL`/`0`。解引用空指针会导致程序崩溃，因此在代码中加入`判空`可以提升程序的健壮性。可以被`delet`释放内存。

### 函数指针

函数指针是指向函数代码的地址（函数代码存放在代码段）。函数指针定义时和函数返回值类型和形参类型相关。常用用于回调函数的调用。
```cpp
void fun(int num, int num_1){
    cout<< num + num_1 << endl;
}
void (*funp)(int, int);
funp=fun;
funp(1,2); // c++调用的方式;
(*funp)(1,2)); // c调用的方式;
```